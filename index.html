<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 ì˜¤í‚¤ë‚˜ì™€ ê°€ì¡±ì—¬í–‰</title>
    
    <!-- ìŠ¤íƒ€ì¼ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f0f4f8; padding-bottom: env(safe-area-inset-bottom); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .safe-pb { padding-bottom: calc(4rem + env(safe-area-inset-bottom)); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ ---
        const Icons = {
            MapPin: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            Clock: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Utensils: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>,
            Navigation: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>,
            Info: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            ExternalLink: () => <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
            Calendar: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            Edit2: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>,
            Plus: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Trash2: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Save: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
            RotateCcw: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>,
            List: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>,
            BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            MessageCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>,
            Sun: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2"/><path d="M12 21v2"/><path d="M4.2 4.2l1.4 1.4"/><path d="M18.4 18.4l1.4 1.4"/><path d="M1 12h2"/><path d="M21 12h2"/><path d="M4.2 19.8l1.4-1.4"/><path d="M18.4 5.6l1.4-1.4"/></svg>,
            Car: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/><path d="M5 17h2"/><path d="M15 17h2"/></svg>,
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            Code: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
        };

        const attractionData = [
            { title: "ì¸„ë¼ìš°ë¯¸ ìˆ˜ì¡±ê´€", area: "ë¶ë¶€", desc: "ì„¸ê³„ ìµœëŒ€ê¸‰ ìˆ˜ì¡°ì—ì„œ í—¤ì—„ì¹˜ëŠ” ê³ ë˜ìƒì–´ê°€ ì••ê¶Œ. ì˜¤ì „ì´ ë¹„êµì  í•œì‚°í•©ë‹ˆë‹¤.", tips: "ì˜¤í‚¤ì§± ê·¹ì¥(ëŒê³ ë˜ì‡¼)ì€ ë¬´ë£Œë¡œ ê´€ëŒ ê°€ëŠ¥í•©ë‹ˆë‹¤." },
            { title: "ë¹„ì„¸ í›„ì¿ ê¸° ê°€ë¡œìˆ˜ê¸¸", area: "ë¶ë¶€", desc: "ë°©í’ë¦¼ìœ¼ë¡œ ì‹¬ì€ í›„ì¿ ê¸° ë‚˜ë¬´ê°€ í„°ë„ì„ ì´ë£¬ íë§ ëª…ì†Œ.", tips: "ìì „ê±°ë¥¼ ëŒ€ì—¬í•´ì„œ í•œ ë°”í€´ ëŒê³  ë°”ë¡œ ì• í•´ë³€ìœ¼ë¡œ ë‚˜ê°€ë³´ì„¸ìš”." },
            { title: "ì½”ìš°ë¦¬ ëŒ€êµ & ì„¬", area: "ë¶ë¶€", desc: "ë°”ë‹¤ ìœ„ë¥¼ ë‹¬ë¦¬ëŠ” ë“¯í•œ ê¸´ ë‹¤ë¦¬. ì˜¤í‚¤ë‚˜ì™€ ë“œë¼ì´ë¸Œ ì½”ìŠ¤ 1ìœ„.", tips: "í•˜íŠ¸ë½(Heart Rock)ì€ ì£¼ì°¨ë£Œê°€ ìœ ë£Œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
            { title: "ë‚˜ê³  íŒŒì¸ì• í”Œ íŒŒí¬", area: "ë¶ë¶€", desc: "ìë™ ì¹´íŠ¸ë¥¼ íƒ€ê³  íŒŒì¸ì• í”Œ ë°­ì„ íƒí—˜í•˜ëŠ” í…Œë§ˆíŒŒí¬.", tips: "ê¸°ë…í’ˆìƒµì˜ íŒŒì¸ì• í”Œ ì¹´ìŠ¤í…Œë¼ì™€ ì™€ì¸ì´ ì¸ê¸°ì…ë‹ˆë‹¤." },
            { title: "ë§Œì¢Œëª¨", area: "ì¤‘ë¶€", desc: "ì½”ë¼ë¦¬ ëª¨ì–‘ì˜ ì ˆë²½ê³¼ í‘¸ë¥¸ ë°”ë‹¤ê°€ ì–´ìš°ëŸ¬ì§„ ì ˆê²½.", tips: "ë°”ëŒì´ ë§¤ìš° ê°•í•˜ë‹ˆ ëª¨ìë‚˜ ì†Œì§€í’ˆì´ ë‚ ì•„ê°€ì§€ ì•Šê²Œ ì£¼ì˜í•˜ì„¸ìš”." },
            { title: "ì”íŒŒê³¶", area: "ì¤‘ë¶€", desc: "ê¹ì•„ì§€ë¥¸ ì ˆë²½ê³¼ í•˜ì–€ ë“±ëŒ€ê°€ ìˆëŠ” ì›…ì¥í•œ ê³³.", tips: "ì¼ëª° ëª…ì†Œë¡œë„ ìœ ëª…í•©ë‹ˆë‹¤." },
            { title: "ì•„ë©”ë¦¬ì¹¸ ë¹Œë¦¬ì§€", area: "ì¤‘ë¶€", desc: "ë¯¸êµ­ ì„œí•´ì•ˆ ë¶„ìœ„ê¸°ì˜ ë³µí•© ì‡¼í•‘ëª°. ì•¼ê²½ì´ ì•„ë¦„ë‹µìŠµë‹ˆë‹¤.", tips: "ì„ ì…‹ ë¹„ì¹˜ì—ì„œ ë³´ëŠ” ì¼ëª°ì´ ì•„ì£¼ ë©‹ì§‘ë‹ˆë‹¤." },
            { title: "ìŠˆë¦¬ì„± ê³µì›", area: "ë‚¨ë¶€", desc: "ë¥˜í ì™•êµ­ì˜ ì—­ì‚¬ë¥¼ ê°„ì§í•œ ì„±. í˜„ì¬ ì •ì „ ë³µì› ê³µì‚¬ ì¤‘ì…ë‹ˆë‹¤.", tips: "ìœ ë£Œ êµ¬ì—­ ì™¸ì—ë„ ë¬´ë£Œë¡œ ë‘˜ëŸ¬ë³¼ ìˆ˜ ìˆëŠ” ì„±ê³½ ê¸¸ì´ ì˜ˆì©ë‹ˆë‹¤." },
            { title: "ì˜¤í‚¤ë‚˜ì™€ ì›”ë“œ", area: "ë‚¨ë¶€", desc: "ê±°ëŒ€í•œ ì¢…ìœ ì„ ë™êµ´(êµì¿ ì„¼ë„)ê³¼ ì „í†µ ê³µì—°ì„ ë³¼ ìˆ˜ ìˆëŠ” ê³³.", tips: "ë™êµ´ ì•ˆì€ ìŠµí•˜ë‹ˆ ì–‡ì€ ì˜·ì°¨ë¦¼ê³¼ í¸í•œ ì‹ ë°œì´ ì¢‹ìŠµë‹ˆë‹¤." },
            { title: "ìš°ë¯¸ì¹´ì§€ í…Œë¼ìŠ¤", area: "ë‚¨ë¶€", desc: "ê³µí•­ ê·¼ì²˜ì˜ ì‚°í† ë¦¬ë‹ˆí’ í•˜ì–€ í…Œë¼ìŠ¤ ìƒê°€.", tips: "ë¹„í–‰ê¸° ì´ì°©ë¥™ì„ ì•„ì£¼ ê°€ê¹Œì´ì„œ ë³¼ ìˆ˜ ìˆëŠ” ì‚¬ì§„ ëª…ì†Œì…ë‹ˆë‹¤." },
            { title: "ë‚˜ë¯¸ë…¸ìš°ì— ì‹ ê¶", area: "ë‚¨ë¶€", desc: "ì ˆë²½ ìœ„ì— ì„¸ì›Œì§„ ë¶‰ì€ ì‹ ì‚¬. ë°”ë‹¤ì™€ ì–´ìš°ëŸ¬ì§„ í’ê²½ì´ ë…íŠ¹í•©ë‹ˆë‹¤.", tips: "ë°”ë¡œ ì•„ë˜ ë‚˜ë¯¸ë…¸ìš°ì— ë¹„ì¹˜ì—ì„œ ì˜¬ë ¤ë‹¤ë³´ëŠ” ë·°ë„ ì¢‹ìŠµë‹ˆë‹¤." }
        ];

const initialScheduleData = [
    {
        "day": "1ì¼ì°¨",
        "date": "1ì›” 3ì¼ (í† )",
        "title": "ì˜¤í‚¤ë‚˜ì™€ ë„ì°© & ë¶ë¶€ ì´ë™",
        "events": [
            {
                "time": "11:50",
                "title": "ì¸ì²œê³µí•­ ì œ1í„°ë¯¸ë„ ì¶œë°œ",
                "type": "move",
                "note": "í‹°ì›¨ì´ í•­ê³µ TW281 ë³´ì‰ 737 MAX",
                "mapLink": "https://maps.app.goo.gl/jtrzXBXb1ERMYBBA7",
                "links": []
            },
            {
                "time": "14:25",
                "title": "ì˜¤í‚¤ë‚˜ì™€ ë‚˜í•˜ ê³µí•­ ë„ì°©",
                "type": "move",
                "note": "ì…êµ­ ìˆ˜ì† í›„ ë Œí„°ì¹´ ì…”í‹€ ì •ë¥˜ì¥ìœ¼ë¡œ ì´ë™",
                "mapLink": "https://maps.app.goo.gl/sF3iw8bzizF6v7LaA",
                "links": []
            },
            {
                "time": "15:30",
                "title": "ë Œí„°ì¹´ ìˆ˜ë ¹ ë° ì¶œë°œ",
                "type": "move",
                "note": "ì°¨ëŸ‰ ìƒíƒœ í™•ì¸, ETC ì¹´ë“œ ëŒ€ì—¬ í•„ìˆ˜",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Naha+Airport+Rental+Car",
                "links": []
            },
            {
                "time": "16:30",
                "title": "ì•„ë©”ë¦¬ì¹¸ ì•„ë©”ë¦¬ì¹¸",
                "type": "food",
                "note": "ì¶”ì²œ: ìŠ¤í…Œì´í¬ & ìˆ˜ì œ íŒŒì´. ì£¼ì°¨ì¥ ìˆìŒ.",
                "mapLink": "https://maps.app.goo.gl/kh3vJpuTXCUN7DsHA",
                "links": [
                    {
                        "label": "ì•„ë©”ë¦¬ì¹¸ë¹Œë¦¬ì§€ ìŠ¤í…Œì´í¬ ì–‘ì‹ ë§›ì§‘ ë¦¬ë·° - ì•„ë©”ë¦¬ì¹¸ ì•„ë©”ë¦¬ì¹¸",
                        "url": "https://cafe.naver.com/newtowndaejang/2443"
                    }
                ]
            },
            {
                "time": "18:00",
                "title": "ë¶ë¶€(ë‚˜ê³ )ë¡œ ì´ë™",
                "type": "move",
                "note": "ê³ ì†ë„ë¡œ ì´ìš© ì¶”ì²œ (ì˜¤í‚¤ë‚˜ì™€ ë¯¸ë‚˜ë¯¸ IC -> ì¿„ë‹¤ IC).",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Kyoda+Interchange",
                "links": []
            },
            {
                "time": "19:30",
                "title": "í˜¸í…” ìœ ê°€í›„ ì¸ ì˜¤í‚¤ë‚˜ì™€",
                "type": "stay",
                "note": "ì²´í¬ì¸. ì£¼ì°¨ë¹„ 1ë°• 500ì—”.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Hotel+Yugaf+Inn+Okinawa",
                "links": []
            },
            {
                "time": "20:30",
                "title": "ì–€ë°”ë£¨ íƒ€ì½”",
                "type": "food",
                "note": "ì•¼ì‹ íƒ€ì½”ë¼ì´ìŠ¤. ì¬ë£Œ ì†Œì§„ ì£¼ì˜.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Yanbaru+Taco+Nago",
                "links": []
            }
        ]
    },
    {
        "day": "2ì¼ì°¨",
        "date": "1ì›” 4ì¼ (ì¼)",
        "title": "ë¶ë¶€ ì™„ì „ ì •ë³µ",
        "events": [
            {
                "time": "09:30",
                "title": "ì¸„ë¼ìš°ë¯¸ ìˆ˜ì¡±ê´€",
                "type": "spot",
                "note": "P7 ì£¼ì°¨ì¥ì´ ì…êµ¬ì™€ ê°€ì¥ ê°€ê¹Œì›€.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Okinawa+Churaumi+Aquarium",
                "links": []
            },
            {
                "time": "12:30",
                "title": "ë¹„ì„¸ í›„ì¿ ê¸° ê°€ë¡œìˆ˜ê¸¸",
                "type": "spot",
                "note": "ìì „ê±° ì‚°ì±… ì¶”ì²œ.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Bise+Fukugi+Tree+Road",
                "links": []
            },
            {
                "time": "13:30",
                "title": "ë‚˜í‚¤ì§„ ì†Œë°”",
                "type": "food",
                "note": "â˜…ë™ì„  ìµœì í™” ë§›ì§‘. ê³ ì¦ˆë„‰í•œ ë¶„ìœ„ê¸°.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Nakijin+Soba",
                "links": []
            },
            {
                "time": "15:00",
                "title": "ì½”ìš°ë¦¬ ëŒ€êµ & ì„¬",
                "type": "spot",
                "note": "ë“œë¼ì´ë¸Œ ë° í•˜íŠ¸ë½ êµ¬ê²½.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Kouri+Bridge",
                "links": []
            },
            {
                "time": "16:30",
                "title": "ë‚˜ê³  íŒŒì¸ì• í”Œ íŒŒí¬",
                "type": "spot",
                "note": "ê¸°ë…í’ˆìƒµ(ì™€ì¸/ì¹´ìŠ¤í…Œë¼) ì¶”ì²œ.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Nago+Pineapple+Park",
                "links": []
            },
            {
                "time": "18:30",
                "title": "í•˜ë§ˆìŠ¤ì‹œ (ë‚˜ê³ ì )",
                "type": "food",
                "note": "íšŒì „ì´ˆë°¥. í„°ì¹˜íŒ¨ë„ ì£¼ë¬¸ ê°€ëŠ¥.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Hamazushi+Nago",
                "links": []
            }
        ]
    },
    {
        "day": "3ì¼ì°¨",
        "date": "1ì›” 5ì¼ (ì›”)",
        "title": "ì¤‘ë¶€ íˆ¬ì–´ & ë‚¨ë¶€ ì´ë™",
        "events": [
            {
                "time": "10:00",
                "title": "ì²´í¬ì•„ì›ƒ & ë§Œì¢Œëª¨",
                "type": "spot",
                "note": "ì…ì¥ë£Œ 100ì—”.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Cape+Manzamo",
                "links": []
            },
            {
                "time": "11:30",
                "title": "ì”íŒŒê³¶ ë“±ëŒ€",
                "type": "spot",
                "note": "ì›…ì¥í•œ ì ˆë²½ ë·°.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Cape+Zanpa",
                "links": []
            },
            {
                "time": "13:00",
                "title": "ì•¼í‚¤ë‹ˆì¿  ë‚˜ë² ì‹œë§ˆ",
                "type": "food",
                "note": "ì´ì˜¨ëª° ë¼ì´ì¹´ë¬´ 5ì¸µ. ëŸ°ì¹˜ ì¶”ì²œ.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Yakiniku+Nabeshima+Aeon+Mall+Okinawa+Rycom",
                "links": []
            },
            {
                "time": "15:30",
                "title": "ì•„ë©”ë¦¬ì¹¸ ë¹Œë¦¬ì§€ (ê°„ì‹)",
                "type": "food",
                "note": "ì¹´ë¼ë°”ë‚˜(ë„ë„›) & ì½”ì˜¤ë¦¬ì˜¤ í‚¤ìë©”(ë¹™ìˆ˜).",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=American+Village+Okinawa",
                "links": []
            },
            {
                "time": "17:00",
                "title": "ì„ ì…‹ ë¹„ì¹˜ & ì‚°ì±…",
                "type": "spot",
                "note": "ì¼ëª° ê°ìƒ ë° ì‡¼í•‘.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Sunset+Beach+Okinawa",
                "links": []
            },
            {
                "time": "19:30",
                "title": "ë‚˜í•˜ ë„í ë ˆì´ í˜¸í…”",
                "type": "stay",
                "note": "ì²´í¬ì¸. ì£¼ì°¨ë¹„ 1ë°• 1,500ì—”.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Naha+Tokyu+REI+Hotel",
                "links": []
            },
            {
                "time": "20:30",
                "title": "ì§€ë¡œìš°ìì¿ ë¼ (ëª¨ì¸ ë‚˜ë² )",
                "type": "food",
                "note": "â˜…íœ´ë¬´ í™•ì¸ í•„ìˆ˜(ì›”/í™”). í˜¸í…” ë¬¸ì˜ ê¶Œì¥.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Hakata+Motsunabe+Jirouzakura",
                "links": []
            }
        ]
    },
    {
        "day": "4ì¼ì°¨",
        "date": "1ì›” 6ì¼ (í™”)",
        "title": "ë‚¨ë¶€ íˆ¬ì–´ & êµ­ì œê±°ë¦¬",
        "events": [
            {
                "time": "10:00",
                "title": "ìŠˆë¦¬ì„± ê³µì›",
                "type": "spot",
                "note": "ìœ ë£Œêµ¬ì—­ ì„±ì¸ 400ì—”. í¸í•œ ì‹ ë°œ.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Shurijo+Castle+Park",
                "links": []
            },
            {
                "time": "12:30",
                "title": "ì¼ìŠ¤ íƒ€ì½”",
                "type": "food",
                "note": "êµ­ì œê±°ë¦¬ íƒ€ì½” ë§›ì§‘.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Jam's+Tacos+Naha",
                "links": []
            },
            {
                "time": "14:00",
                "title": "ì˜¤í‚¤ë‚˜ì™€ ì›”ë“œ",
                "type": "spot",
                "note": "ì…ì¥ë£Œ 2,000ì—”. ë™ì–‘ ìµœëŒ€ ì¢…ìœ ì„ ë™êµ´ íƒí—˜.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Okinawa+World",
                "links": []
            },
            {
                "time": "16:30",
                "title": "ìš°ë¯¸ì¹´ì§€ í…Œë¼ìŠ¤",
                "type": "spot",
                "note": "ê³µí•­ ë·° ì¹´í˜ ê±°ë¦¬.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Umikaji+Terrace+Senagajima",
                "links": []
            },
            {
                "time": "19:00",
                "title": "ë§ˆì œë©˜ ë§ˆí˜¸ë¡œë°”",
                "type": "food",
                "note": "êµ­ì œê±°ë¦¬ ë§›ì§‘. ëŒ€ê¸°ê°€ ìˆì„ ìˆ˜ ìˆìŒ. ë§¤ì½¤í•œ ë§› ì¶”ì²œ.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Mazemen+Mahoroba",
                "links": []
            },
            {
                "time": "20:30",
                "title": "êµ­ì œê±°ë¦¬ ì•¼ê²½",
                "type": "spot",
                "note": "ëˆí‚¤í˜¸í…Œ ì‡¼í•‘.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Kokusai+Dori",
                "links": []
            }
        ]
    },
    {
        "day": "5ì¼ì°¨",
        "date": "1ì›” 7ì¼ (ìˆ˜)",
        "title": "ê·€êµ­ ë° ë§ˆì§€ë§‰ ì‡¼í•‘",
        "events": [
            {
                "time": "10:00",
                "title": "ì²´í¬ì•„ì›ƒ & ë‚˜ë¯¸ë…¸ìš°ì— ì‹ ê¶",
                "type": "spot",
                "note": "ì ˆë²½ ìœ„ ì‹ ì‚¬.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Naminoue+Shrine",
                "links": []
            },
            {
                "time": "11:30",
                "title": "ì—ì´ë¶„ (EIBUN)",
                "type": "food",
                "note": "í“¨ì „ ì†Œë°”. ì˜¤í”ˆëŸ° ì¶”ì²œ.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Okinawa+Soba+EIBUN",
                "links": []
            },
            {
                "time": "13:00",
                "title": "ì´ì˜¨ëª° ë‚˜í•˜ ì‡¼í•‘",
                "type": "spot",
                "note": "ê³µí•­ ê·¼ì²˜ ì‡¼í•‘.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Aeon+Mall+Naha",
                "links": []
            },
            {
                "time": "14:00",
                "title": "ë Œí„°ì¹´ ë°˜ë‚© & ê³µí•­",
                "type": "move",
                "note": "ì£¼ìœ  í›„ ë°˜ë‚©.",
                "mapLink": "https://www.google.com/maps/search/?api=1&query=Naha+Airport",
                "links": []
            },
            {
                "time": "16:50",
                "title": "ì˜¤í‚¤ë‚˜ì™€ ë‚˜í•˜ ê³µí•­ ì¶œë°œ",
                "type": "move",
                "note": "ì œì£¼í•­ê³µ 7C1802 ë³´ì‰ 737-800",
                "mapLink": "https://maps.app.goo.gl/sF3iw8bzizF6v7LaA",
                "links": []
            },
            {
                "time": "19:15",
                "title": "ì¸ì²œê³µí•­ ì œ1í„°ë¯¸ë„ ë„ì°©",
                "type": "move",
                "note": "ì•ˆì „ ê·€êµ­!",
                "mapLink": "https://maps.app.goo.gl/jtrzXBXb1ERMYBBA7",
                "links": []
            }
        ]
    }
];

        // --- ê³µí†µ ì»´í¬ë„ŒíŠ¸ ---
        const Modal = ({ isOpen, onClose, title, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div className="bg-white w-full max-w-sm rounded-xl shadow-2xl overflow-hidden fade-in flex flex-col max-h-[80vh]">
                        <div className="bg-gray-100 px-4 py-3 flex justify-between items-center border-b shrink-0">
                            <h3 className="font-bold text-gray-700 flex items-center gap-2">{title}</h3>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700"><Icons.X /></button>
                        </div>
                        <div className="overflow-y-auto">{children}</div>
                    </div>
                </div>
            );
        };

        const EditForm = ({ event, onSave, onCancel }) => {
            const [formData, setFormData] = useState({ ...event });
            const [newLink, setNewLink] = useState({ label: '', url: '' });

            const handleLinkAdd = () => {
                if (newLink.label && newLink.url) {
                    let url = newLink.url;
                    if (!url.startsWith('http')) url = 'https://' + url;
                    setFormData({ ...formData, links: [...(formData.links || []), { label: newLink.label, url: url }] });
                    setNewLink({ label: '', url: '' });
                }
            };
            const handleLinkRemove = (idx) => setFormData({ ...formData, links: formData.links.filter((_, i) => i !== idx) });

            return (
                <div className="p-4 space-y-4">
                    <div><label className="text-xs font-bold text-gray-500">ì‹œê°„</label><input type="text" value={formData.time} onChange={(e)=>setFormData({...formData, time:e.target.value})} className="w-full border rounded p-2 text-sm"/></div>
                    <div><label className="text-xs font-bold text-gray-500">ì¼ì •</label><input type="text" value={formData.title} onChange={(e)=>setFormData({...formData, title:e.target.value})} className="w-full border rounded p-2 text-sm"/></div>
                    <div><label className="text-xs font-bold text-gray-500">êµ¬ê¸€ë§µ ë§í¬</label><input type="text" value={formData.mapLink} onChange={(e)=>setFormData({...formData, mapLink:e.target.value})} className="w-full border rounded p-2 text-sm" placeholder="https://..." /></div>
                    <div><label className="text-xs font-bold text-gray-500">ë©”ëª¨</label><textarea value={formData.note} onChange={(e)=>setFormData({...formData, note:e.target.value})} className="w-full border rounded p-2 text-sm" rows={2}/></div>
                    <div className="border-t pt-3">
                        <label className="text-xs font-bold text-gray-500">ì°¸ê³  ë§í¬</label>
                        <div className="space-y-2 mb-2">{(formData.links||[]).map((l,i)=><div key={i} className="flex justify-between bg-blue-50 p-2 rounded text-xs"><span>{l.label}</span><button onClick={()=>handleLinkRemove(i)} className="text-red-400"><Icons.Trash2/></button></div>)}</div>
                        <div className="flex gap-2"><input placeholder="ì œëª©" className="border rounded p-1 text-xs flex-1" value={newLink.label} onChange={(e)=>setNewLink({...newLink, label:e.target.value})}/><input placeholder="URL" className="border rounded p-1 text-xs flex-1" value={newLink.url} onChange={(e)=>setNewLink({...newLink, url:e.target.value})}/><button onClick={handleLinkAdd} className="bg-blue-500 text-white p-1 rounded"><Icons.Plus/></button></div>
                    </div>
                    <div className="flex gap-2 pt-2"><button onClick={onCancel} className="flex-1 py-2 bg-gray-100 rounded text-sm">ì·¨ì†Œ</button><button onClick={()=>onSave(formData)} className="flex-1 py-2 bg-blue-500 text-white rounded text-sm">ì €ì¥</button></div>
                </div>
            );
        };

        const ScheduleView = ({ schedule, setSchedule }) => {
            const [activeTab, setActiveTab] = useState(0);
            const [editModalOpen, setEditModalOpen] = useState(false);
            const [editingEvent, setEditingEvent] = useState(null);

            const openEditModal = (dayIdx, eventIdx) => {
                setEditingEvent({ dayIdx, eventIdx, data: schedule[dayIdx].events[eventIdx] });
                setEditModalOpen(true);
            };

            const saveEvent = (formData) => {
                if (!editingEvent) return;
                const newSchedule = [...schedule];
                newSchedule[editingEvent.dayIdx].events[editingEvent.eventIdx] = { ...newSchedule[editingEvent.dayIdx].events[editingEvent.eventIdx], ...formData };
                setSchedule(newSchedule);
                setEditModalOpen(false);
                setEditingEvent(null);
            };

            return (
                <div className="flex flex-col h-full">
                    <div className="flex overflow-x-auto bg-white shadow-sm mx-4 rounded-xl border border-gray-100 no-scrollbar z-10 shrink-0 mb-4">
                        {schedule.map((data, idx) => (
                            <button key={idx} onClick={() => setActiveTab(idx)} className={`flex-1 py-3 px-4 text-center min-w-[70px] transition-colors ${activeTab === idx ? 'bg-blue-50 text-blue-600 font-bold border-b-2 border-blue-500' : 'text-gray-400 hover:text-gray-600'}`}>
                                <div className="text-xs mb-0.5">{data.day}</div>
                                <div className="text-sm">{data.date.split(' ')[0]}</div>
                            </button>
                        ))}
                    </div>
                    <div className="px-4 pb-24 overflow-y-auto flex-1">
                        <h2 className="text-xl font-bold text-gray-800 flex items-center gap-2 mb-4"><span className="w-1.5 h-6 bg-blue-500 rounded-full"></span>{schedule[activeTab].title}</h2>
                        <div className="space-y-1">
                            {schedule[activeTab].events.map((event, idx) => (
                                <div key={idx} className="flex gap-4 mb-6 relative group">
                                    <div className="absolute left-[19px] top-8 bottom-[-24px] w-0.5 bg-gray-200 last:hidden"></div>
                                    <div className="flex-shrink-0 w-10 h-10 rounded-full bg-white border-2 border-gray-100 flex items-center justify-center shadow-sm z-10">
                                        {event.type === 'food' ? <span className="text-orange-500"><Icons.Utensils /></span> : event.type === 'spot' ? <span className="text-blue-500"><Icons.MapPin /></span> : event.type === 'move' ? <span className="text-green-500"><Icons.Navigation /></span> : <span className="text-purple-500"><Icons.Clock /></span>}
                                    </div>
                                    <div className="flex-grow bg-white rounded-xl p-4 shadow-sm border border-gray-100 relative">
                                        <button onClick={() => openEditModal(activeTab, idx)} className="absolute top-3 right-3 text-gray-300 hover:text-blue-500 p-1"><Icons.Edit2 /></button>
                                        <div className="flex flex-col items-start mb-2 pr-6"><span className="text-sm font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded mb-1">{event.time}</span><span className="font-bold text-gray-800 text-lg leading-tight">{event.title}</span></div>
                                        {event.note && <div className="text-gray-600 text-sm mb-3 bg-gray-50 p-2 rounded flex items-start gap-2"><span className="text-green-500 shrink-0 mt-0.5"><Icons.CheckCircle /></span><span className="whitespace-pre-wrap">{event.note}</span></div>}
                                        <div className="flex flex-wrap gap-2 mt-2">
                                            {event.mapLink && <a href={event.mapLink} target="_blank" className="flex items-center gap-1 text-xs font-medium text-white bg-blue-500 px-3 py-1.5 rounded-full hover:bg-blue-600 shadow-sm"><span className="w-3 h-3"><Icons.MapPin /></span> ì§€ë„</a>}
                                            {event.links && event.links.map((l, i) => <a key={i} href={l.url} target="_blank" className="flex items-center gap-1 text-xs font-medium text-gray-700 bg-gray-100 px-3 py-1.5 rounded-full border"><span className="w-3 h-3"><Icons.ExternalLink /></span> {l.label}</a>)}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    <Modal isOpen={editModalOpen} onClose={() => setEditModalOpen(false)} title="ì¼ì • ìˆ˜ì •">
                        <EditForm event={editingEvent?.data} onSave={saveEvent} onCancel={() => setEditModalOpen(false)} />
                    </Modal>
                </div>
            );
        };

        const GuideView = () => {
            const [tab, setTab] = useState('intro');
            return (
                <div className="px-4 pb-24 h-full overflow-y-auto">
                    <div className="flex gap-2 mb-4">
                        <button onClick={()=>setTab('intro')} className={`flex-1 py-2 rounded-lg text-sm font-bold ${tab==='intro'?'bg-blue-500 text-white':'bg-white text-gray-500 border'}`}>ì—¬í–‰ íŒ</button>
                        <button onClick={()=>setTab('spot')} className={`flex-1 py-2 rounded-lg text-sm font-bold ${tab==='spot'?'bg-blue-500 text-white':'bg-white text-gray-500 border'}`}>ëª…ì†Œ ë„ê°</button>
                    </div>
                    {tab === 'intro' ? (
                        <div className="space-y-4 fade-in">
                            <div className="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="font-bold text-gray-800 flex items-center gap-2 mb-2"><span className="text-orange-500"><Icons.Sun /></span> 1ì›” ì˜¤í‚¤ë‚˜ì™€ ë‚ ì”¨</h3>
                                <p className="text-sm text-gray-600 leading-relaxed">í‰ê·  17~20Â°Cë¡œ ì„ ì„ í•©ë‹ˆë‹¤. ë°”ëŒì´ ë§ì´ ë¶ˆì–´ ì²´ê°ì˜¨ë„ëŠ” ë” ë‚®ì„ ìˆ˜ ìˆìœ¼ë‹ˆ <strong>ê²½ëŸ‰ íŒ¨ë”©ì´ë‚˜ ë°”ëŒë§‰ì´</strong>ë¥¼ ê¼­ ì±™ê¸°ì„¸ìš”. ë¹„ê°€ ì˜¬ ë•Œë¥¼ ëŒ€ë¹„í•´ ì‘ì€ ìš°ì‚°ë„ í•„ìˆ˜!</p>
                            </div>
                            <div className="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="font-bold text-gray-800 flex items-center gap-2 mb-2"><span className="text-green-500"><Icons.Car /></span> ìš´ì „ ë° êµí†µ</h3>
                                <p className="text-sm text-gray-600 leading-relaxed">ìš´ì „ì„ì´ ì˜¤ë¥¸ìª½ì…ë‹ˆë‹¤! ê¹œë¹¡ì´(ìš°)ì™€ ì™€ì´í¼(ì¢Œ) ìœ„ì¹˜ê°€ ë°˜ëŒ€ì¸ ì  ì£¼ì˜í•˜ì„¸ìš”. ê³ ì†ë„ë¡œ ì œí•œì†ë„ëŠ” ë³´í†µ 80km/hì…ë‹ˆë‹¤.</p>
                            </div>
                            <div className="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="font-bold text-gray-800 flex items-center gap-2 mb-2"><span className="text-purple-500"><Icons.Info /></span> 1ì›”ì˜ íŠ¹ì§•</h3>
                                <p className="text-sm text-gray-600 leading-relaxed">1ì›” ë§ë¶€í„° ë¶ë¶€ì—ì„œ ë²šê½ƒ(ì¹¸íˆìì¿ ë¼)ì´ í”¼ê¸° ì‹œì‘í•©ë‹ˆë‹¤. ë˜í•œ í˜¹ë“±ê³ ë˜ ê´€ì°° íˆ¬ì–´ê°€ ê°€ëŠ¥í•œ ì‹œì¦Œì…ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    ) : (
                        <div className="space-y-3 fade-in">
                            {attractionData.map((spot, idx) => (
                                <div key={idx} className="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                                    <div className="flex justify-between items-start mb-1">
                                        <h3 className="font-bold text-gray-800">{spot.title}</h3>
                                        <span className="text-xs bg-gray-100 text-gray-500 px-2 py-0.5 rounded">{spot.area}</span>
                                    </div>
                                    <p className="text-sm text-gray-600 mb-2">{spot.desc}</p>
                                    <div className="text-xs text-blue-600 bg-blue-50 p-2 rounded flex gap-1">
                                        <Icons.CheckCircle /> <span>{spot.tips}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        const PhraseView = ({ phrases, setPhrases }) => {
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [newPhrase, setNewPhrase] = useState({ category: 'ê¸°íƒ€', ko: '', ja: '' });

            const addPhrase = () => {
                if (newPhrase.ko && newPhrase.ja) {
                    setPhrases([...phrases, newPhrase]);
                    setNewPhrase({ category: 'ê¸°íƒ€', ko: '', ja: '' });
                    setIsModalOpen(false);
                }
            };
            const deletePhrase = (idx) => {
                if (confirm("ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    setPhrases(phrases.filter((_, i) => i !== idx));
                }
            };

            return (
                <div className="px-4 pb-24 h-full overflow-y-auto">
                    <button onClick={() => setIsModalOpen(true)} className="w-full py-3 bg-blue-500 text-white font-bold rounded-xl mb-4 shadow-sm flex items-center justify-center gap-2">
                        <Icons.Plus /> ìƒˆ ë¬¸ì¥ ì¶”ê°€í•˜ê¸°
                    </button>
                    <div className="space-y-3 fade-in">
                        {phrases.map((p, idx) => (
                            <div key={idx} className="bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative group">
                                <span className="text-xs text-blue-500 font-bold mb-1 block">{p.category}</span>
                                <div className="font-bold text-gray-800 mb-1">{p.ja}</div>
                                <div className="text-sm text-gray-500">{p.ko}</div>
                                <button onClick={() => deletePhrase(idx)} className="absolute top-3 right-3 text-gray-300 hover:text-red-500 p-2"><Icons.Trash2 /></button>
                            </div>
                        ))}
                    </div>
                    <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title="íšŒí™” ì¶”ê°€">
                        <div className="p-4 space-y-3">
                            <input placeholder="ì¹´í…Œê³ ë¦¬ (ì˜ˆ: ì‹ë‹¹)" className="w-full border rounded p-2 text-sm" value={newPhrase.category} onChange={e=>setNewPhrase({...newPhrase, category:e.target.value})} />
                            <input placeholder="ì¼ë³¸ì–´ (ì˜ˆ: OOO ì¿ ë‹¤ì‚¬ì´)" className="w-full border rounded p-2 text-sm" value={newPhrase.ja} onChange={e=>setNewPhrase({...newPhrase, ja:e.target.value})} />
                            <input placeholder="í•œêµ­ì–´ ëœ»" className="w-full border rounded p-2 text-sm" value={newPhrase.ko} onChange={e=>setNewPhrase({...newPhrase, ko:e.target.value})} />
                            <button onClick={addPhrase} className="w-full py-2 bg-blue-500 text-white rounded font-bold mt-2">ì¶”ê°€í•˜ê¸°</button>
                        </div>
                    </Modal>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('schedule');
            const [schedule, setSchedule] = useState(initialScheduleData);
            const [phrases, setPhrases] = useState(initialPhrases);

            useEffect(() => {
                const savedSch = localStorage.getItem('okinawa_schedule_2026_v3');
                const savedPhr = localStorage.getItem('okinawa_phrases_2026');
                if (savedSch) { try { setSchedule(JSON.parse(savedSch)); } catch (e) { console.error(e); } }
                if (savedPhr) { try { setPhrases(JSON.parse(savedPhr)); } catch (e) { console.error(e); } }
            }, []);

            useEffect(() => {
                try {
                    localStorage.setItem('okinawa_schedule_2026_v3', JSON.stringify(schedule));
                    localStorage.setItem('okinawa_phrases_2026', JSON.stringify(phrases));
                } catch (e) { console.error("Storage save failed", e); }
            }, [schedule, phrases]);

            const handleReset = () => {
                if (confirm("ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    localStorage.removeItem('okinawa_schedule_2026_v3');
                    localStorage.removeItem('okinawa_phrases_2026');
                    window.location.reload();
                }
            };

            // --- â˜… ê³µìœ  ê¸°ëŠ¥: í˜„ì¬ ë°ì´í„°ë¥¼ ì½”ë“œë¡œ ë³µì‚¬ ---
            const handleExport = () => {
                const dataStr = `const initialScheduleData = ${JSON.stringify(schedule, null, 4)};`;
                
                // í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹œë„
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(dataStr).then(() => {
                        alert("âœ… ë°ì´í„°ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nindex.html íŒŒì¼ì„ ì—´ê³  'const initialScheduleData = ...' ë¶€ë¶„ì„ ì§€ê¸ˆ ë³µì‚¬ëœ ë‚´ìš©ìœ¼ë¡œ ë®ì–´ì“°ê¸°(ë¶™ì—¬ë„£ê¸°) í•˜ì„¸ìš”.");
                    }).catch(err => {
                        console.error('Clipboard failed', err);
                        prompt("ì•„ë˜ ì½”ë“œë¥¼ ì „ì²´ ë³µì‚¬(Ctrl+A, Ctrl+C)í•´ì„œ index.htmlì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:", dataStr);
                    });
                } else {
                    // ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸ê°€ ì•„ë‹ˆê±°ë‚˜ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš° (ì˜ˆ: êµ¬í˜• ë¸Œë¼ìš°ì €)
                    const textarea = document.createElement("textarea");
                    textarea.value = dataStr;
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        document.execCommand('copy');
                        alert("âœ… ë°ì´í„°ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nindex.html íŒŒì¼ì„ ì—´ê³  'const initialScheduleData = ...' ë¶€ë¶„ì„ ì§€ê¸ˆ ë³µì‚¬ëœ ë‚´ìš©ìœ¼ë¡œ ë®ì–´ì“°ê¸° í•˜ì„¸ìš”.");
                    } catch (err) {
                        prompt("ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ index.htmlì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:", dataStr);
                    }
                    document.body.removeChild(textarea);
                }
            };

            return (
                <div className="h-screen flex flex-col bg-slate-50 font-sans max-w-md mx-auto shadow-2xl overflow-hidden relative">
                    <div className="bg-gradient-to-r from-blue-500 to-cyan-400 p-5 pt-8 text-white shrink-0 relative shadow-md z-20">
                        <h1 className="text-xl font-bold mb-1">ğŸŒ´ 2026 ì˜¤í‚¤ë‚˜ì™€</h1>
                        <p className="text-blue-50 text-xs opacity-90 flex items-center gap-1">
                            <span className="w-3 h-3"><Icons.Calendar /></span> 1ì›” 3ì¼ - 1ì›” 7ì¼
                        </p>
                        <div className="absolute top-8 right-5 flex gap-2">
                            <button onClick={handleExport} className="p-1.5 bg-white/20 rounded-full hover:bg-white/30 text-white" title="ê³µìœ ìš© ë°ì´í„° ë³µì‚¬"><Icons.Code /></button>
                            <button onClick={handleReset} className="p-1.5 bg-white/20 rounded-full hover:bg-white/30 text-white" title="ì´ˆê¸°í™”"><Icons.RotateCcw /></button>
                        </div>
                    </div>

                    <div className="flex-1 overflow-hidden relative pt-4">
                        {view === 'schedule' && <ScheduleView schedule={schedule} setSchedule={setSchedule} />}
                        {view === 'guide' && <GuideView />}
                        {view === 'phrase' && <PhraseView phrases={phrases} setPhrases={setPhrases} />}
                    </div>

                    <div className="bg-white border-t border-gray-200 flex justify-around pb-6 pt-3 px-2 safe-pb shrink-0 z-30 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
                        <button onClick={() => setView('schedule')} className={`flex flex-col items-center gap-1 w-16 ${view === 'schedule' ? 'text-blue-500' : 'text-gray-400'}`}>
                            <Icons.List /> <span className="text-[10px] font-bold">ì¼ì •í‘œ</span>
                        </button>
                        <button onClick={() => setView('guide')} className={`flex flex-col items-center gap-1 w-16 ${view === 'guide' ? 'text-blue-500' : 'text-gray-400'}`}>
                            <Icons.BookOpen /> <span className="text-[10px] font-bold">ê°€ì´ë“œ</span>
                        </button>
                        <button onClick={() => setView('phrase')} className={`flex flex-col items-center gap-1 w-16 ${view === 'phrase' ? 'text-blue-500' : 'text-gray-400'}`}>
                            <Icons.MessageCircle /> <span className="text-[10px] font-bold">ì¼ë³¸ì–´</span>
                        </button>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>